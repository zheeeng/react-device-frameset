import{R,r as a,j as e}from"./index-e974fee3.js";var Y=Object.defineProperty,q=Object.defineProperties,A=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,X=(s,t,n)=>t in s?Y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,I=(s,t)=>{for(var n in t||(t={}))G.call(t,n)&&X(s,n,t[n]);if(H)for(var n of H(t))B.call(t,n)&&X(s,n,t[n]);return s},Z=(s,t)=>q(s,A(t)),F=(s,t)=>{var n={};for(var l in s)G.call(s,l)&&t.indexOf(l)<0&&(n[l]=s[l]);if(s!=null&&H)for(var l of H(s))t.indexOf(l)<0&&B.call(s,l)&&(n[l]=s[l]);return n},p=s=>s,E={"iPhone X":p({device:"iphone-x",colors:[],hasLandscape:!0,width:375,height:812}),"iPhone 8":p({device:"iphone8",colors:["black","silver","gold"],hasLandscape:!0,width:375,height:667}),"iPhone 8 Plus":p({device:"iphone8plus",colors:["black","silver","gold"],hasLandscape:!0,width:414,height:736}),"iPhone 5s":p({device:"iphone5s",colors:["black","silver","gold"],hasLandscape:!0,width:320,height:568}),"iPhone 5c":p({device:"iphone5c",colors:["white","red","yellow","green","blue"],hasLandscape:!0,width:320,height:568}),"iPhone 4s":p({device:"iphone4s",colors:["black","silver"],hasLandscape:!0,width:320,height:480}),"Galaxy Note 8":p({device:"note8",colors:[],hasLandscape:!0,width:400,height:822}),"Nexus 5":p({device:"nexus5",colors:[],hasLandscape:!0,width:320,height:568}),"Lumia 920":p({device:"lumia920",colors:["black","white","yellow","red","blue"],hasLandscape:!0,width:320,height:533}),"Samsung Galaxy S5":p({device:"s5",colors:["white","black"],hasLandscape:!0,width:320,height:568}),"HTC One":p({device:"nexus5",colors:[],hasLandscape:!0,width:320,height:568}),"iPad Mini":p({device:"ipad",colors:["black","silver"],hasLandscape:!0,width:576,height:768}),"MacBook Pro":p({device:"macbook",colors:[],hasLandscape:!1,width:960,height:600})},V=Object.keys(E);function J(s,t){const n=I({},s);for(const l of t)delete n[l];return n}var ne=R.memo(function(t){const n=t,{children:l,device:i,width:r,height:u,zoom:g}=n,x=F(n,["children","device","width","height","zoom"]),h=J(x,["landscape","color"]),f="color"in t?t.color:void 0,b="landscape"in t?t.landscape:void 0,v=a.useMemo(()=>b&&E[i].hasLandscape?{width:u,height:r,transform:g!==void 0?`scale(${g})`:void 0}:{width:r,height:u,transform:g!==void 0?`scale(${g})`:void 0},[r,u,b,i,g]);return e.jsxs("div",Z(I({className:`marvel-device ${E[i].device} ${f||""} ${b?"landscape":""}`},h),{style:v,children:[e.jsx("div",{className:"inner"}),i==="Galaxy Note 8"?e.jsx("div",{className:"overflow",children:e.jsx("div",{className:"shadow"})}):null,i==="iPhone X"?e.jsxs("div",{className:"notch",children:[e.jsx("div",{className:"camera"}),e.jsx("div",{className:"speaker"})]}):null,e.jsx("div",{className:"top-bar"}),e.jsx("div",{className:"sleep"}),e.jsx("div",{className:"bottom-bar"}),e.jsx("div",{className:"volume"}),e.jsx("div",{className:"camera"}),e.jsx("div",{className:"sensor"}),e.jsx("div",{className:"speaker"}),e.jsx("div",{className:"sensors"}),e.jsx("div",{className:"more-sensors"}),i==="iPhone X"?e.jsxs("div",{className:"overflow",children:[e.jsx("div",{className:"shadow shadow--tr"}),e.jsx("div",{className:"shadow shadow--tl"}),e.jsx("div",{className:"shadow shadow--br"}),e.jsx("div",{className:"shadow shadow--bl"})]}):null,e.jsx("div",{className:"inner-shadow"}),e.jsx("div",{className:"screen",children:l}),e.jsx("div",{className:"home"}),e.jsx("div",{className:"bottom-bar"})]}))}),ce=R.memo(function(t){var n=t,{children:l,value:i,onChange:r,banDevices:u=[]}=n,g=F(n,["children","value","onChange","banDevices"]),x;const h=a.useMemo(()=>V.filter(o=>!u.includes(o)),[u]),[f,b]=a.useState((x=h[0])!=null?x:""),v=a.useMemo(()=>i??f,[i,f]),y=a.useCallback(o=>{const j=o.currentTarget.dataset.deviceName;if(!h.includes(j))throw new Error(`Invalid device name for ${j}`);r==null||r(j),b(j)},[h,r]),[L,$]=a.useState(!0),{colors:D,hasLandscape:S,width:d,height:M}=a.useMemo(()=>E[v],[v]),_=a.useMemo(()=>D[0],[D]),[m,C]=a.useState(_),z=a.useCallback(o=>{const j=o.currentTarget.dataset.deviceColor;C(j)},[]);a.useEffect(()=>{C(_)},[_]);const[P,O]=a.useState(void 0),N=a.useMemo(()=>S?P:void 0,[S,P]),c=a.useCallback(()=>{S&&O(o=>!o)},[S]),k=a.useMemo(()=>({device:v,color:m,landscape:N,width:d,height:M}),[v,m,N,d,M]);return e.jsxs("div",Z(I({className:"device-selector"},g),{children:[e.jsxs("dl",{children:[e.jsxs("dt",{children:[e.jsxs("p",{children:["The Chosen: ",v]}),e.jsx("span",{className:L?"active":"",onClick:()=>$(o=>!o),children:"show all devices"})]}),L&&h.map(o=>e.jsxs("dd",{"data-device-name":o,onClick:y,className:o===v?"active":"",children:[e.jsx("input",{type:"radio",id:o}),e.jsxs("label",{htmlFor:o,children:[e.jsxs("div",{children:[e.jsx("p",{children:o}),E[o].hasLandscape&&e.jsx("span",{className:o===f&&P?"active":"",onClick:c,children:"landscape"})]}),e.jsx("ul",{children:E[o].colors.map(j=>e.jsx("li",{title:j,"data-device-color":j,onClick:z,className:[o===f&&j===m?"active":"",j].join(" ")},j))})]})]},o))]}),e.jsx("div",{className:"device-selector-container",children:l(k)})]}))}),W=[.5,.75,1,1.25,1.5],ie=R.memo(function(t){var n=t,{children:l,value:i,onChange:r,banDevices:u=[]}=n,g=F(n,["children","value","onChange","banDevices"]),x;const h=a.useMemo(()=>V.filter(c=>!u.includes(c)),[u]),[f,b]=a.useState((x=h[0])!=null?x:""),v=a.useMemo(()=>{var c;return(c=i==null?void 0:i.device)!=null?c:f},[i,f]),y=a.useCallback(c=>{const k=c.target.value;if(!h.includes(k))throw new Error(`Invalid device name for ${k}`);b(k)},[h]),[L,$]=a.useState(W[2]),D=a.useCallback(c=>{const k=+c.target.value;if(!W.includes(k))throw new Error(`Invalid device zoom for ${k}`);$(k)},[]),{colors:S,hasLandscape:d,width:M,height:_}=a.useMemo(()=>E[v],[v]),m=a.useMemo(()=>S[0],[S]),[C,z]=a.useState(void 0),P=a.useMemo(()=>d?C:void 0,[d,C]),O=a.useCallback(()=>{d&&z(c=>!c)},[d]),N=a.useMemo(()=>i??{device:v,color:m,landscape:P,width:M,height:_,zoom:L},[i,v,m,P,M,_,L]);return a.useEffect(()=>{r==null||r(N)},[r,N]),e.jsxs("div",Z(I({className:"device-emulator"},g),{children:[e.jsxs("section",{children:[e.jsx("select",{value:v,onChange:y,children:h.map(c=>e.jsx("option",{value:c,children:c},c))}),e.jsx("input",{disabled:!0,value:M}),e.jsx("span",{children:"x"}),e.jsx("input",{disabled:!0,value:_}),e.jsx("select",{value:L,onChange:D,children:W.map(c=>e.jsxs("option",{value:c,children:[c*100,"%"]},c))}),e.jsx("label",{children:"Landscape:"}),e.jsx("input",{type:"checkbox",checked:!!P,disabled:!d,onChange:O})]}),e.jsx("div",{className:"device-emulator-container",children:l(N)})]}))}),w=[0,1/4,1/3,1/2,2/3,3/4,4/5,9/10,1,11/10,5/4,3/2,7/4,2/1,5/2,3/1,4/1,5/1,1/0],K=s=>w.findIndex(t=>t>s)-1,Q=s=>w.findIndex(t=>t>s)-2,U=s=>w.findIndex(t=>t>s),T=s=>s===w[0]?w[1]:s===w[w.length-1]?w[w.length-2]:s,ee=s=>T(w[K(s)]),se=s=>T(w[Q(s)]),ae=s=>T(w[U(s)]),oe=R.memo(function(t){var n=t,{children:l}=n,i=F(n,["children"]);const[[r,u],g]=a.useState([1,1]),[[x,h],f]=a.useState([r,u]),[b,v]=a.useState(null),[y,L]=a.useState(null),$=a.useMemo(()=>{const[m,C]=[r/x,u/h];return Math.min(m,C,1)},[r,u,x,h]),[D,S]=a.useState(null),d=a.useMemo(()=>ee(D??$),[D,$]),M=a.useMemo(()=>x/d<r||h/d<u,[h,x,d,r,u]),_=a.useMemo(()=>({transform:`scale(${d})`}),[d]);return a.useEffect(()=>{if(y){const m=O=>{const{clientWidth:N,clientHeight:c}=O;N&&c&&f([N,c])};m(y);const C={},z=O=>{for(const N of O)m(N.target)},P=new ResizeObserver(z);return P.observe(y,C),()=>P.disconnect()}},[y]),a.useEffect(()=>{if(b){const{clientWidth:m,clientHeight:C}=b;g([m,C])}},[b]),e.jsxs("div",Z(I({},i),{style:Z(I({},i.style),{position:"relative"}),children:[e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:M?"auto":"hidden"},ref:v,children:e.jsx("div",{ref:L,style:I({transformOrigin:"center"},_),children:l})}),e.jsxs("div",{style:{position:"absolute",right:"16px",top:"16px"},children:[e.jsx("span",{onClick:()=>S(se(d)),children:"-"}),Math.round(d*100),"%",e.jsx("span",{onClick:()=>S(ae(d)),children:"+"})]})]}))});export{ce as D,oe as Z,ne as a,ie as b};
